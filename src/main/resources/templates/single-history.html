<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Include SEO -->
    <div th:replace="frame/websiteframe/seo :: seo"></div>

    <title>Historia Zetu | about us</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Preload styles -->
    <link rel="stylesheet" th:href="@{/blog/css/come-css.css}" as="style" type="text/css" >
    <link rel="stylesheet" th:href="@{/blog/css/blog.css}" as="style" type="text/css">
    <link rel="stylesheet" th:href="@{/blog/css/single-view.css}" as="style" type="text/css">

</head>

<body class="d-flex flex-column" style="background-color: #000000; background-image: url('/blog/images/1.webp'); background-repeat: no-repeat; overflow-y: scroll; overflow-x:hidden;  background-size: cover;font-size: clamp(12px, 2vw, 16px);">
<!-- Navbar -->
<div th:replace="frame/websiteframe/navbar :: website-navbar"></div>

<div class="container d-flex flex-wrap justify-content-center align-items-start histories-container">

<section class="story-container">


<!--    where dynamic content will be going-->
</section>

        <!-- tags-->
<section class="story-section-accessories">
        <div class="story-access-hashtags">
            <h3>HashTags</h3>
            <ul>
                <li><a href="#">#Tag1</a></li>
                <li><a href="#">#Tag1</a></li>
                <li><a href="#">#Tag1</a></li>
                <li><a href="#">#Tag1</a></li>
                <li><a href="#">#Tag1</a></li>
                <li><a href="#">#Tag1</a></li>
                <li><a href="#">#Tag1</a></li>
            </ul>
            <div class="story-related-hashtags-list">
                <h3>Related stories</h3>
                <ul>
                    <li class="flex min-h-[250px] w-full max-w-md overflow-hidden rounded-lg bg-gray-800 shadow-lg">
                        <a href="#">
                        <div class="relative w-full">
                            <img
                                    src="/api/placeholder/400/320"
                                    alt="Card background"
                                    class="absolute h-full w-full object-cover"
                            />
                            <div class="relative z-10 flex h-full flex-col justify-start bg-gradient-to-t from-gray-900/90 to-transparent p-6">
                                <h3 class="mb-2 text-xl title-related font-bold text-white">Title</h3>
                                <span class="text-sm w-25 text-gray-300">Category</span>
                            </div>
                        </div>
                        </a>
                    </li>
                    <li class="flex min-h-[250px] w-full max-w-md overflow-hidden rounded-lg bg-gray-800 shadow-lg">
                        <a href="#">
                            <div class="relative w-full">
                                <img
                                        src="/api/placeholder/400/320"
                                        alt="Card background"
                                        class="absolute h-full w-full object-cover"
                                />
                                <div class="relative z-10 flex h-full flex-col justify-start bg-gradient-to-t from-gray-900/90 to-transparent p-6">
                                    <h3 class="mb-2 text-xl title-related font-bold text-white">Title</h3>
                                    <span class="text-sm w-25 text-gray-300">Category</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="flex min-h-[250px] w-full max-w-md overflow-hidden rounded-lg bg-gray-800 shadow-lg">
                        <a href="#">
                            <div class="relative w-full">
                                <img
                                        src="/api/placeholder/400/320"
                                        alt="Card background"
                                        class="absolute h-full w-full object-cover"
                                />
                                <div class="relative z-10 flex h-full flex-col justify-start bg-gradient-to-t from-gray-900/90 to-transparent p-6">
                                    <h3 class="mb-2 text-xl title-related font-bold text-white">Title</h3>
                                    <span class="text-sm w-25 text-gray-300">Category</span>
                                </div>
                            </div>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </section>


</div>
<!-- Footer -->
<footer class="bg-dark text-white text-center py-3 mt-5">
    <p>&copy; 2024 Your Website. All Rights Reserved.</p>
</footer>


<!-- Include Scripts -->
<div th:replace="frame/websiteframe/script-site-frame :: script"></div>
<script defer th:src="@{/blog/js/navbar.js}"></script>

<script defer th:inline="javascript">
    /*<![CDATA[*/
    const storyJson = /*[[${story}]]*/ null;
    const otherStoryJson = JSON.parse(/*[[${stories}]]*/ '[]');

    /*]]>*/

</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

    $(document).ready(function () {
        if (!storyJson) {
            console.error("No story data available.");
            return;
        }

        let container  = '';
        container += `
            <div class="story-header">
                <h1 class="story-title fst-italic lh-1 fs-2 mb-2 welcome-">${storyJson.historyTitle}</h1>
                <div class="story-info">
                    <p class="title">Photo by: <strong>${storyJson.storyPhotoGrapherName}</strong></p>
                    <p class="title" >Story by: <strong>${storyJson.historyAuthor}</strong></p>
                    <p class="title">Date: <strong>${storyJson.historyDate ? new Date(storyJson.historyDate).toLocaleDateString() : 'Unknown date'}</strong></p>
                </div>
            </div>
        `;

        container += `

                <div class="share-container">
                    <p class="partagÃ©" >Partager </p>
                    <a href="" title="copy the story">
                        <ion-icon class="copy" name="copy"></ion-icon>
                    </a>

                    <a title="share the on facebook" href="https://www.facebook.com/sharer/sharer.php?u=${storyJson.storyFacebookLink}" class="share-facebook" target="_blank" rel="noopener noreferrer">
                        <ion-icon class="share-facebook" name="logo-facebook"></ion-icon>
                    </a>
                    <a  title="share the story on instagram" href="https://www.instagram.com/?url=${storyJson.storyInstagramLink}" class="share-instagram" target="_blank" rel="noopener noreferrer">
                        <ion-icon class="share-intagram" name="logo-instagram"></ion-icon>
                    </a>
                    </a>
                    <a title="share the story on whatsapp" href="https://api.whatsapp.com/send?text=${storyJson.storyWhatsAppLink}" class="share-whatsapp" target="_blank" rel="noopener noreferrer">
                        <ion-icon class="share-whatsapp" name="logo-whatsapp"></ion-icon>
                    </a>
                </div>
        `;

        container += `
                <img src="data:image/png;base64,${storyJson.historyMainImage}" alt="${storyJson.historyTitle}" class="story-photo">
        `;

        container += `

            <div class="story-caption">${storyJson.storyCaption}</div>

        `;

        container += `

            <div class="story-content ">
                <!-- Carousel Container -->
                <div class="carousel">
                    <!-- Slides will be dynamically inserted here -->
                </div>

                <!-- Navigation Buttons -->
                <button class="carousel-button prev">&#10094;</button>
                <button class="carousel-button next">&#10095;</button>

                <!-- Fullscreen Button -->
                <button class="fullscreen-button">&#x26F6;</button>
            </div>
        `;


        // Example dynamic content (replace with your string or fetch from an API)

        const slideLength = 200; // Number of characters per slide (you can adjust this)

        // Split the content into slides based on the specified length
        const slides = [];
        for (let i = 0; i < storyJson.historyContent.length; i += slideLength) {
            slides.push(storyJson.historyContent.slice(i, i + slideLength));
        }

        // Dynamically create slides
        const $carousel = $('.carousel');
        slides.forEach((slideContent, index) => {
            $carousel.append(`<div class="slide"><h2>Slide ${index + 1}</h2><p>${slideContent}</p></div>`);
        });

        let currentIndex = 0;

        // Function to update carousel position
        function updateCarousel() {
            const offset = -currentIndex * 100;
            $carousel.css('transform', `translateX(${offset}%)`);
        }

        // Navigation Buttons
        $('.carousel-button.prev').on('click', function () {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = slides.length - 1;
            }
            updateCarousel();
        });

        $('.carousel-button.next').on('click', function () {
            if (currentIndex < slides.length - 1) {
                currentIndex++;
            } else {
                currentIndex = 0;
            }
            updateCarousel();
        });

        // Fullscreen Mode
        $('.fullscreen-button').on('click', function () {
            const $storyContent = $('.story-content');
            if (!document.fullscreenElement) {
                $storyContent[0].requestFullscreen().catch(err => {
                    alert(`Error attempting to enable fullscreen mode: ${err.message}`);
                });
                $storyContent.addClass('fullscreen');
            } else {
                document.exitFullscreen();
                $storyContent.removeClass('fullscreen');
            }
        });

        // Handle Fullscreen Change
        $(document).on('fullscreenchange', function () {
            if (!document.fullscreenElement) {
                $('.story-content').removeClass('fullscreen');
            }
        });


        container += `

            <div class="story-stats">
                <span><ion-icon name="reader"></ion-icon>${storyJson.likeCount}: 123</span>
                <span><ion-icon name="heart"></ion-icon> Likes: 456</span>
                <span><ion-icon name="share-social"></ion-icon> shared: 456</span>
                <span><ion-icon name="chatbubbles"></ion-icon> ${storyJson.commentCount}: 789</span>
            </div>

        `;

        container += `
            <div class="next-prev-btn">
                <button class="btn-prev"> <ion-icon name="arrow-back"></ion-icon>prev</button>
                <button class="btn-next">next <ion-icon name="arrow-forward"></ion-icon></button>
            </div>

        `;


        container += `
            <div class="comment-box">
                <textarea placeholder="Leave a comment..."></textarea>
                <button type="button btn-primary">Post Comment</button>
            </div>
            <div class="comments-list">
                <div class="comment">
                    <p class="comment-author">User1</p>
                    <p class="comment-text">This is a comment text.</p>
                    <p class="comment-date">Posted on: MM/DD/YYYY</p>
                </div>
                <div class="comment">
                    <p class="comment-author">User2</p>
                    <p class="comment-text">This is another comment text.</p>
                    <p class="comment-date">Posted on: MM/DD/YYYY</p>
                </div>
            </div>
        `;

     $('story-container').html(container);
        // Initialize the carousel
        updateCarousel();
    });


</script>


</body>
</html>
